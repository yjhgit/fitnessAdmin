{"remainingRequest":"A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\node_modules\\thread-loader\\dist\\cjs.js!A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js!A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\src\\pages\\shop-cart\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\src\\pages\\shop-cart\\list.vue","mtime":1678095437000},{"path":"A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"A:\\project\\java\\lxgym\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZy9jb25maWcnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJhc2VVcmw6IGNvbmZpZy5iYXNlVXJsLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBzZWxSb3dzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENhcnRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShlKSB7CiAgICAgIHRoaXMuc2VsUm93cyA9IGU7CiAgICB9LAogICAgZ2V0Q2FydExpc3Q6IGZ1bmN0aW9uIGdldENhcnRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cC5nZXQoJ2NhcnQvbGlzdCcsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICBsaW1pdDogMTAwMCwKICAgICAgICAgIHVzZXJpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJpZCcpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5kYXRhLmxpc3Q7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSh2YWx1ZSwgaW5kZXgsIHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAuZ2V0KCIiLmNvbmNhdChyb3cudGFibGVuYW1lLCAiL2RldGFpbC8iKS5jb25jYXQocm93Lmdvb2RpZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDAgJiYgdmFsdWUgPiByZXMuZGF0YS5kYXRhLm9uZWxpbWl0dGltZXMpIHsKICAgICAgICAgIF90aGlzMi50YWJsZURhdGFbaW5kZXhdLmJ1eW51bWJlciA9IC0tdmFsdWU7CgogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCJcdTZCQ0ZcdTRFQkFcdTUzNTVcdTZCMjFcdTUzRUFcdTgwRkRcdThEMkRcdTRFNzAiLmNvbmNhdChyZXMuZGF0YS5kYXRhLm9uZWxpbWl0dGltZXMsICJcdTRFRjYiKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwICYmIHZhbHVlIDw9IHJlcy5kYXRhLmRhdGEub25lbGltaXR0aW1lcykgewogICAgICAgICAgcm93LmJ1eW51bWJlciA9IHZhbHVlOwoKICAgICAgICAgIF90aGlzMi4kaHR0cC5wb3N0KCdjYXJ0L3VwZGF0ZScsIHJvdykudGhlbihmdW5jdGlvbiAocmVzKSB7fSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6ZmkPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZGVsSWRzID0gbmV3IEFycmF5KCk7CiAgICAgICAgZGVsSWRzLnB1c2gocm93LmlkKTsKCiAgICAgICAgX3RoaXMzLiRodHRwLnBvc3QoJ2NhcnQvZGVsZXRlJywgZGVsSWRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLAogICAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuZ2V0Q2FydExpc3QoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBidXlDbGljazogZnVuY3Rpb24gYnV5Q2xpY2soKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VsUm93cy5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeWVhuWTgScsCiAgICAgICAgICBkdXJhdGlvbjogMTUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGduID0gIiI7CgogICAgICBmb3IgKHZhciB4IGluIHRoaXMuc2VsUm93cykgewogICAgICAgIHZhciBnID0gdGhpcy5zZWxSb3dzW3hdOwogICAgICAgIGNvbnNvbGUubG9nKGcuZ29vZG5hbWUpOwogICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICB0aGlzLiRodHRwLmdldCgiIi5jb25jYXQoZy50YWJsZW5hbWUsICIvZGV0YWlsLyIpLmNvbmNhdChnLmdvb2RpZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCAmJiBnLmJ1eW51bWJlciA+IHJlcy5kYXRhLmRhdGEuYWxsbGltaXR0aW1lcykgewogICAgICAgICAgICBnbiA9IGcuZ29vZG5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChnbiA9PSAiIikgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ29yZGVyR29vZHMnLCBKU09OLnN0cmluZ2lmeShfdGhpczQuc2VsUm93cykpOwoKICAgICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goJy9pbmRleC9zaG9wLW9yZGVyL29yZGVyQ29uZmlybScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UuZXJyb3IoZ24gKyAiIFx1NUU5M1x1NUI1OFx1NEUwRFx1OERCMyIpOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0sIDIwMCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdG90YWxQcmljZTogZnVuY3Rpb24gdG90YWxQcmljZSgpIHsKICAgICAgdmFyIHRvdGFsUHJpY2UgPSAwOwoKICAgICAgZm9yICh2YXIgeCBpbiB0aGlzLnNlbFJvd3MpIHsKICAgICAgICB0b3RhbFByaWNlICs9IE51bWJlcih0aGlzLnNlbFJvd3NbeF0ucHJpY2UpICogTnVtYmVyKHRoaXMuc2VsUm93c1t4XS5idXludW1iZXIpOwogICAgICB9CgogICAgICByZXR1cm4gdG90YWxQcmljZS50b0ZpeGVkKDIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div :style='{\"width\":\"1000px\",\"padding\":\"20px\",\"margin\":\"10px auto\",\"position\":\"relative\",\"background\":\"#D8D8D8\"}'>\r\n    <div class=\"section-title\" :style='{\"margin\":\"10px 0\",\"fontSize\":\"20px\",\"lineHeight\":\"54px\",\"color\":\"#333\",\"textAlign\":\"center\",\"background\":\"#f5f5f5\"}'>购物车</div>\r\n    <el-table\r\n      @selection-change=\"handleSelectionChange\"\r\n      :data=\"tableData\"\r\n      style=\"width: 100%\">\r\n      <el-table-column type=\"selection\" width=\"50\" align=\"center\" />\r\n      <el-table-column\r\n        label=\"商品名称\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"shangpin\">\r\n            <el-image\r\n              style=\"width: 100px; height: 100px\"\r\n              :src=\"baseUrl + scope.row.picture\"\r\n              fit=\"fill\"></el-image>\r\n            <span style=\"margin-left: 10px\">{{ scope.row.goodname }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"价格\">\r\n        <template slot-scope=\"scope\">\r\n          <span :style='{\"fontSize\":\"12px\"}'>￥</span>{{ scope.row.price }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"数量\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input-number :min=\"1\" v-model=\"scope.row.buynumber\" @change=\"(value) => handleChange(value, scope.$index, scope.row)\" size=\"small\"></el-input-number>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"总价\">\r\n        <template slot-scope=\"scope\">\r\n          <span :style='{\"fontSize\":\"12px\"}'>￥</span>{{ (scope.row.price * scope.row.buynumber).toFixed(2) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"buy\" v-if=\"tableData.length > 0\">\r\n      <span style=\"color: red;margin-right: 10px;font-weight: 700;\">总价：<span :style='{\"fontSize\":\"12px\"}'>￥</span>{{totalPrice}}</span>\r\n      <el-button\r\n        type=\"warning\"\r\n        @click=\"buyClick\">点击购买</el-button>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import config from '@/config/config'\r\n  export default {\r\n    data() {\r\n      return {\r\n        baseUrl: config.baseUrl,\r\n        tableData: [],\r\n        selRows:[]\r\n      }\r\n    },\r\n    created() {\r\n      this.getCartList();\r\n    },\r\n    methods: {\r\n      handleSelectionChange(e){\r\n          this.selRows = e\r\n      },\r\n      getCartList() {\r\n        this.$http.get('cart/list', {params: {page: 1, limit: 1000, userid: localStorage.getItem('userid')}}).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.tableData = res.data.data.list;\r\n          }\r\n        });\r\n      },\r\n      handleChange(value, index, row) {\r\n        this.$http.get(`${row.tablename}/detail/${row.goodid}`).then(res => {\r\n          if (res.data.code == 0 && value > res.data.data.onelimittimes) {\r\n            this.tableData[index].buynumber = --value;\r\n            this.$message.error(`每人单次只能购买${res.data.data.onelimittimes}件`);\r\n          }\r\n          if (res.data.code == 0 && value <= res.data.data.onelimittimes) {\r\n            row.buynumber = value;\r\n            this.$http.post('cart/update', row).then(res => {});\r\n          }\r\n        });\r\n      },\r\n      handleDelete(index, row) {\r\n        this.$confirm('是否确认删除?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          let delIds = new Array();\r\n          delIds.push(row.id);\r\n          this.$http.post('cart/delete', delIds).then(res => {\r\n            if (res.data.code == 0) {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '删除成功!',\r\n                duration: 1500,\r\n                onClose: () => {\r\n                  this.getCartList();\r\n                }\r\n              });\r\n            }\r\n          });\r\n        });\r\n      },\r\n      buyClick() {\r\n        if(this.selRows.length==0) {\r\n            this.$message({\r\n                type: 'warning',\r\n                message: '请选择商品',\r\n                duration: 1500,\r\n            });\r\n            return\r\n        }\r\n        var gn = \"\";\r\n        for(let x in this.selRows){\r\n            var g = this.selRows[x];\r\n            console.log(g.goodname)\r\n            let that = this;\r\n            this.$http.get(`${g.tablename}/detail/${g.goodid}`).then(res => {\r\n              if (res.data.code == 0 && g.buynumber > res.data.data.alllimittimes) {\r\n                gn = g.goodname;\r\n              }\r\n            });\r\n        }\r\n        \r\n        setTimeout(() => {\r\n            if(gn==\"\") {\r\n                localStorage.setItem('orderGoods', JSON.stringify(this.selRows));\r\n                this.$router.push('/index/shop-order/orderConfirm');\r\n            } else {\r\n                this.$message.error(gn+` 库存不足`);\r\n                return;\r\n            }\r\n        }, 200)\r\n      }\r\n    },\r\n    computed: {\r\n      totalPrice() {\r\n            let totalPrice = 0;\r\n            for(let x in this.selRows){\r\n                  totalPrice += Number(this.selRows[x].price) * Number(this.selRows[x].buynumber)\r\n            }\r\n            return totalPrice.toFixed(2);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n  .section {\r\n    width: 900px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .shangpin {\r\n    display: flex;\r\n  }\r\n  .buy {\r\n    text-align: right;\r\n    padding-right: 82px;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/pages/shop-cart"}]}